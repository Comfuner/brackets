window.cleanSlate = JSON.parse('{"houses":[{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"russia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/russia.png"},{"buttonText":"בחרו","name":"Saudi Arabia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/saudi-arabia.png"},{"buttonText":"בחרו","name":"Egypt","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/egipt.png"},{"buttonText":"בחרו","name":"uruguay","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/uruguay.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"Portugal","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/portugal.png"},{"buttonText":"בחרו","name":"Spain","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/spain.png"},{"buttonText":"בחרו","name":"Morocco","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/marocco.png"},{"buttonText":"בחרו","name":"Iran","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/iran.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"France","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/france.png"},{"buttonText":"בחרו","name":"Australia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/australia.png"},{"buttonText":"בחרו","name":"Peru","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/peru.png"},{"buttonText":"בחרו","name":"Denmark","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/denmark.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"Argentina","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/argentina.png"},{"buttonText":"בחרו","name":"Iceland","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/iceland.png"},{"buttonText":"בחרו","name":"Croatia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/croatia.png"},{"buttonText":"בחרו","name":"Nigeria","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/nigeria.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"Brazil","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/brasil.png"},{"buttonText":"בחרו","name":"Switzerland","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/switzerland.png"},{"buttonText":"בחרו","name":"Costa Rica","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/costa-rica.png"},{"buttonText":"בחרו","name":"Serbia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/serbia.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"Germany","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/germany.png"},{"buttonText":"בחרו","name":"Mexico","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/mexico.png"},{"buttonText":"בחרו","name":"Sweden","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/sweden.png"},{"buttonText":"בחרו","name":"Korea (Republic of)","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/korea.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"Belgium","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/belgium.png"},{"buttonText":"בחרו","name":"Panama","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/panama.png"},{"buttonText":"בחרו","name":"Tunisia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/tunisia.png"},{"buttonText":"בחרו","name":"England","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/england.png"}]},{"msg":"בחרו מקום ראשון","status":"false","slots":[{"buttonText":"בחרו","name":"Poland","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/poland.png"},{"buttonText":"בחרו","name":"Senegal","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/senegal.png"},{"buttonText":"בחרו","name":"Colombia","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/colombia.png"},{"buttonText":"בחרו","name":"Japan","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/japan.png"}]}],"sixteen":[{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]}],"quarter":[{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]}],"semi":[{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]},{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]}],"final":[{"msg":"בחרו מנצח","status":"false","slots":[{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"},{"buttonText":"בחרו","nameHeb":"?","name":"","status":"null","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}]}],"winner":{"name":"?","flagUrl":"https://www.haaretz.co.il/st/c/static/heb/mondial2018/shirts/place-holder.png"}}');

function allShares() {
    var that = this;
    var shareBtn = document.querySelectorAll('.inter-share button');
    this.interShare = {
        shareEvents: function() {
            for(var x = 0; x < shareBtn.length; x++) {
                shareBtn[x].addEventListener("click", function(e) {
                    console.log(e.target.attributes[0].value);
                    $currentF = e.target.parentNode;
                    tempId = e.target.attributes[0].value;
                    header = $currentF.getAttribute("s-header");
                    cap = $currentF.getAttribute("s-text");
                    desc = $currentF.getAttribute("s-desc");
                    img = $currentF.getAttribute("s-img");
                    linkto = $currentF.getAttribute("s-link");
                    if (linkto == undefined) {
                        linkto = "https://www.haaretz.co.il";
                    }
                    if (tempId.indexOf("inter-f") > -1) {
                        that.interShare.share.f(header, desc, cap, img, linkto)
                    } else if (tempId.indexOf("inter-t") > -1) {
                        that.interShare.share.t(linkto,header)
                    } else if (tempId.indexOf("inter-m") > -1) {
                        that.interShare.share.m(header,desc + " | " + linkto)
                    } else if (tempId.indexOf("inter-w") > -1) {
                        that.interShare.share.w(header + " | " +linkto);
                    }
                })
            }
        },


        share: {
            fu: function(header,cap,desc,pic,link) {

            },
            f: function(header,cap,desc,pic,link) {
                FB.ui({
                    method: 'share_open_graph',
                    action_type: 'og.shares',
                    action_properties: JSON.stringify({
                        object: {
                            'og:url': link,
                            'og:title': header,
                            'og:description': desc,
                            'og:image': pic
                        }
                    })
                    // display: 'iframe'
                })
            },
            t: function(link,text) {
                window.open("https://twitter.com/intent/tweet?url="+link+"&text="+text, target = "_blank");
            },
            m: function(subject,body_message) {
                window.location.href = 'mailto:' + "" + '?subject=' + subject + '&body=' + body_message;
                //win = window.open(mailto_link, 'emailWindow');
            },
            w: function(header){
                if(isMobile.phone) {
                    window.open("whatsapp://send?text="+header);
                }
                else {
                    window.open("https://web.whatsapp.com/send?text="+header);
                }


            }
            // fCount: function(url) {
            //     $.getJSON("https://graph.facebook.com/?id=" + url, function (data) {
            //         var shares = data.shares;
            //         return shares;
            //     })
            // }
        }
    };
}

allShares();
interShare.shareEvents();
